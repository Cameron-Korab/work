<h1>KelloggCoin Ledger</h1>

<!-- Step 1: List all transaction, starting with the ICO -->

<% transactions = Transaction.all %>


<ul>    
    <% for transaction in transactions %>
        <li> <%=transaction.amount %></li>
    <% end %>
</ul>

<!-- Step 2: Calculate and display the balances -->


<% ben_balance = 0 %>
<% brian_balance = 0 %>
<% evan_balance = 0 %>
<% anthony_balance = 0 %>
<% krystina_balance = 0 %>


<ul>
    <% for transaction in transactions 
    puts ben_balance

        if transaction.to_user.name=="Ben" 
            ben_balance = ben_balance + transaction.amount

            elsif transaction.to_user.name == "Brian"
            brian_balance = brian_balance + transaction.amount

            elsif transaction.to_user.name == "Evan"
            evan_balance = evan_balance + transaction.amount

            elsif transaction.to_user.name == "Anthony"
            anthony_balance = anthony_balance + transaction.amount

            elsif transaction.to_user.name == "Krystina"
            krystina_balance = krystina_balance + transaction.amount
        end 

        if transaction.from_user == nil
            puts "nil user"

            elsif transaction.from_user.name=="Ben"
            ben_balance = ben_balance - transaction.amount

            elsif transaction.from_user.name == "Brian"
            brian_balance = brian_balance - transaction.amount

            elsif transaction.from_user.name == "Evan"
            evan_balance = evan_balance - transaction.amount

            elsif transaction.from_user.name == "Anthony"
            anthony_balance = anthony_balance - transaction.amount

            elsif transaction.from_user.name == "Krystina"
            krystina_balance = krystina_balance - transaction.amount

        end

    end%>
</ul>


<ul>
    <li> Balance for Ben:<%=ben_balance %> KC </li>
    <li> Balance for Brian:<%=brian_balance%> KC </li>
    <li> Balance for Evan:<%=evan_balance%> KC </li>
    <li> Balance for Anthony:<%=anthony_balance%> KC </li>
    <li> Balance for Krystina:<%=krystina_balance%> KC </li>
</ul>

<!-- 
Expected balances:
Balance for Brian: 1348 KC
Balance for Ben: 2516 KC
Balance for Evan: 1164 KC
Balance for Anthony: 1456 KC
Balance for Krystina: 3516 KC 
-->